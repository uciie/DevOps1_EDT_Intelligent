# Force H2 pour TOUS les tests
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.main.banner-mode=off
server.port=0

# Désactiver spring-dotenv pour les tests
spring.config.import=optional:file:.env[.properties]

# Configuration Google Maps API
# Pour utiliser l'API externe, activer le profil 'external-api'
# et définir votre clé API Google Maps
# Force tests to run with the default profile to avoid external-api activation
spring.profiles.active=default
# Allow tests to run without external API keys by providing defaults
google.maps.api.key=${GOOGLE_MAPS_API_KEY:}
# Chatbot / AI defaults for tests
google.ai.api-key=${CHATBOT_API_KEY:}
google.ai.model=${CHATBOT_MODEL:gemini-test}